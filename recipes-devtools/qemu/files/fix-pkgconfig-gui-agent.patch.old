diff --git a/Makefile.objs b/Makefile.objs
index 2600739..ebd414d 100644
--- a/gui-agent/Makefile.objs
+++ b/gui-agent/Makefile.objs
@@ -1,5 +1,5 @@
 QUBES_GUI_DIR := $(dir $(lastword $(MAKEFILE_LIST)))
 
-QUBES_GUI_CFLAGS := -I/usr/include $(shell pkg-config --cflags vchan-xen) -I$(QUBES_GUI_DIR)/include
+QUBES_GUI_CFLAGS := $(shell pkg-config --cflags xenvchan) -I$(QUBES_GUI_DIR)/include
 
 common-obj-y += gui-agent-qemu/ gui-common/
diff --git a/gui-agent-qemu/Makefile.objs b/gui-agent-qemu/Makefile.objs
index 24c8e3e..99324f3 100644
--- a/gui-agent/gui-agent-qemu/Makefile.objs
+++ b/gui-agent/gui-agent-qemu/Makefile.objs
@@ -1,6 +1,6 @@
 common-obj-y += qubes-gui.o
 qubes-gui.o-cflags += $(QUBES_GUI_CFLAGS)
-qubes-gui.o-libs += $(shell pkg-config --libs vchan-xen) -lu2mfn
+qubes-gui.o-libs += $(shell pkg-config --libs xenvchan) -lu2mfn
 
 GENERATED_FILES += $(QUBES_GUI_DIR)/gui-agent-qemu/qubes-keycode2scancode.c
 
diff --git a/gui-agent-qemu/qubes-gui.c b/gui-agent-qemu/qubes-gui.c
index e30b1ef..f7a8e8d 100644
--- a/gui-agent/gui-agent-qemu/qubes-gui.c
+++ b/gui-agent/gui-agent-qemu/qubes-gui.c
@@ -10,7 +10,7 @@
 #include <qubes-gui-qemu.h>
 #include <qubes-gui-protocol.h>
 #include <xenctrl.h>
-#include <libvchan.h>
+#include <libxenvchan.h>
 #include <u2mfnlib.h>
 #include <txrx.h>
 
diff --git a/gui-common/txrx-vchan.c b/gui-common/txrx-vchan.c
index a5029e7..751e54c 100644
--- a/gui-agent/gui-common/txrx-vchan.c
+++ b/gui-agent/gui-common/txrx-vchan.c
@@ -22,7 +22,7 @@
 #include <unistd.h>
 #include <stdio.h>
 #include <stdlib.h>
-#include <libvchan.h>
+#include <libxenvchan.h>
 #include <sys/select.h>
 #include <xenstore.h>
 #include "double-buffer.h"
diff --git a/include/txrx.h b/include/txrx.h
index 34b1f18..34bf19c 100644
--- a/gui-agent/include/txrx.h
+++ b/gui-agent/include/txrx.h
@@ -23,7 +23,7 @@
 #define _QUBES_TXRX_H
 
 #include <sys/select.h>
-#include <libvchan.h>
+#include <libxenvchan.h>
 
 int write_data(libvchan_t *vchan, char *buf, int size);
 int real_write_message(libvchan_t *vchan, char *hdr, int size, char *data, int datasize);
